<html>
<head><link rel=stylesheet href="../jdoc.css" type="text/css">
<title>2 f/\y Improved</title>
<link href="../jdoc.css" rel=stylesheet>
</head>

<body><!--top jump start--><a href="index0.htm">&gt;&gt;</a>&nbsp;
<a href="keysp.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<hr><!--top jump end-->

<br>
<table width=100%><tr><td align=left valign=top>
<b><font size=+3 face="Courier New">2 f/\y </font>
<font size=+3>Improved</font></b></td>
<td align=right>
initial writing: 2000-10-16<br>last updated: 2000-10-17
</td></tr></table>
<br>

<tt>2 f/\y </tt>and<tt> 2 f~/\y </tt>for atomic (scalar)<tt> f </tt>and 
vector<tt> y </tt>are now implemented by special code.  
The table below presents time and space comparisons;
the bottom section of the table shows that<tt> 2 f/\x </tt>
is more efficient in time and space than the equivalent<tt> (}:x) f (}.x)</tt> .

<pre>
   ts=: 6!:2 , 7!:2@]          <font face=Times size=3>time and space</font>

   x=: ?. 1e5$1e9              <font face=Times size=3>integer</font>
   y=: o. x                    <font face=Times size=3>floating point</font>
   b=: ?. 1e5$2                <font face=Times size=3>boolean</font>
</pre>

<table>
<tr><td><b>Expression</b></td>
<td align=center colspan=2><b>J 4.06 &nbsp; &nbsp; &nbsp;</b></td> 
<td align=center colspan=2><b>J 4.05 &nbsp; &nbsp; &nbsp;</b></td>
</tr>

<tr><td><tt>2 - /\ x</tt></td>
<td><tt>0.0101418</tt></td>
<td><tt>527680   </tt></td>
<td><tt>0.531219 </tt></td>
<td><tt>2.09965e6</tt></td>
<td><tt>&nbsp;52.4 &nbsp;4.0</tt></td></tr>

<tr><td><tt>2 -~/\ x</tt></td>
<td><tt>0.0113101</tt></td>
<td><tt>527808   </tt></td>
<td><tt>1.31717  </tt></td>
<td><tt>2.09997e6</tt></td>
<td><tt>116.5 &nbsp;4.0</tt></td></tr>

<tr><td><tt>2 - /\ y</tt></td>
<td><tt>0.0171701</tt></td>
<td><tt>1.05197e6</tt></td>
<td><tt>0.541559 </tt></td>
<td><tt>3.14822e6</tt></td>
<td><tt>&nbsp;31.5 &nbsp;3.0</tt></td></tr>

<tr><td><tt>2 -~/\ y</tt></td>
<td><tt>0.0160286</tt></td>
<td><tt>1.0521e6 </tt></td>
<td><tt>1.32591  </tt></td>
<td><tt>3.14854e6</tt></td>
<td><tt>&nbsp;82.7 &nbsp;3.0</tt></td></tr>

<tr><td><tt>2 - /\ b</tt></td>
<td><tt>0.00716321</tt></td>
<td><tt>657856    </tt></td>
<td><tt>0.523366  </tt></td>
<td><tt>1.70643e6 </tt></td>
<td><tt>&nbsp;73.1 &nbsp;2.6</tt></td></tr>

<tr><td><tt>2 -~/\ b</tt></td>
<td><tt>0.0072378</tt></td>
<td><tt>657984   </tt></td>
<td><tt>1.37632  </tt></td>
<td><tt>1.70675e6</tt></td>
<td><tt>190.2 &nbsp;2.6</tt></td></tr>

<tr><td><tt>2 = /\ x</tt></td>
<td><tt>0.00491963</tt></td>
<td><tt>134464    </tt></td>
<td><tt>1.31017   </tt></td>
<td><tt>1.70662e6 </tt></td>
<td><tt>266.3 12.7</tt></td></tr>

<tr><td><tt>2 = /\ y</tt></td>
<td><tt>0.031111 </tt></td>
<td><tt>134464   </tt></td>
<td><tt>1.39055  </tt></td>
<td><tt>2.23091e6</tt></td>
<td><tt>&nbsp;44.7 16.6</tt></td></tr>

<tr><td><tt>2 = /\ b</tt></td>
<td><tt>0.00332641</tt></td>
<td><tt>264640    </tt></td>
<td><tt>0.496923  </tt></td>
<td><tt>1.31322e6 &nbsp; &nbsp;</tt></td>
<td><tt>149.4 &nbsp;5.0</tt></td></tr>

<tr><td>&nbsp;</td></tr>

<tr><td><tt>(}:x) - }.x</tt></td>
<td><tt>0.0310104</tt></td>
<td><tt>1.57395e6</tt></td>
<td><tt>0.0287735</tt></td>
<td><tt>1.57408e6</tt></td></tr>

<tr><td><tt>(}:y) - }.y</tt></td>
<td><tt>0.0524774</tt></td>
<td><tt>3.14694e6</tt></td>
<td><tt>0.0567701</tt></td>
<td><tt>3.14682e6</tt></td></tr>

<tr><td><tt>(}:x) = }.x</tt></td>
<td><tt>0.0288322</tt></td>
<td><tt>1.18086e6</tt></td>
<td><tt>0.0262643</tt></td>
<td><tt>1.18074e6</tt></td></tr>

<tr><td><tt>(}:y) = }.y</tt></td>
<td><tt>0.0636392</tt></td>
<td><tt>2.22944e6 &nbsp; &nbsp; </tt></td>
<td><tt>0.0641831</tt></td>
<td><tt>2.22931e6</tt></td></tr>

<tr><td><tt>(}:b) = }.b &nbsp;</tt></td>
<td><tt>0.00508138 &nbsp;</tt></td>
<td><tt>394432           </tt></td>
<td><tt>0.00617677 &nbsp;</tt></td>
<td><tt>394432           </tt></td></tr>

</table>

<br><br>
<!--bottom jump start--><hr><a href="index0.htm">&gt;&gt;</a>&nbsp;
<a href="keysp.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<!--bottom jump end--></body>
</html>
