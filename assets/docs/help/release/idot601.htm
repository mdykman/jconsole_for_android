<html>
<head><link rel=stylesheet href="../jdoc.css" type="text/css">
<title>i. Improved</title>
<link href="../jdoc.css" rel=stylesheet>
</head>

<body><!--top jump start--><a href="binsearch.htm">&gt;&gt;</a>&nbsp;
<a href="fdot601.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<hr><!--top jump end-->

<br>
<table width=100%><tr><td align=left valign=top>
<b><font size=+3 face="Courier New">i. </font>
<font size=+3>Improved</font></b></td>
<td align=right>
initial writing: 2005-06-27<br>last updated: 2005-07-04
</td></tr></table>
<br>

<p>The<tt> i. </tt>family of primitives 
(dyads:<tt> i. i: e. -. u/. </tt>;<tt> </tt>
monads:<tt> ~. ~: =</tt> )<tt> </tt>has been made faster when:
<ul>
<li><tt>x </tt>and<tt> y </tt>are boxed; and</li>
<li><tt>x </tt>has singleton items<tt> </tt>
( <tt>y </tt>having singleton items in the case of<tt> e.</tt> ); and</li>
<li>opened atoms of<tt> x </tt>and<tt> y </tt>have the
same type, and that type is not floating-point, complex,
or boxed. </li>
</ul>
(For monads the requirements apply to<tt> y </tt>alone.)
The case where that same type is literal was
already fast and the improvement is not as great.</p>

<p>The following benchmarks demonstrate the improvement:</p>

<pre>
i1=: (1e4 ?@$ 100) ?@#&.> 100
c1=: ":&.> i1

i2=: (2e4 ?@$ 100) ?@#&.> 100
c2=: ":&.> i2

ts=: 6!:2 , 7!:2@]
ts 'Expression'
</pre>

<table>
<tr><td><b>Expression</b></td><td>&nbsp; &nbsp; &nbsp;</td>
<td align=center colspan=3><b>J 6.01</b></td><td>&nbsp; &nbsp;</td>
<td align=center colspan=3><b>J 5.04</b></td><td>&nbsp; &nbsp;</td>
<td align=center colspan=3><b>Ratio</b></td>
</tr>

<tr><td><tt>i.~ i1</tt></td><td>&nbsp;</td><td>0.00974926</td><td>&nbsp;</td><td>197376</td><td>&nbsp;</td><td>0.20099158</td><td>&nbsp;</td><td>197376</td><td>&nbsp;</td><td align=right>20.62</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>~. &nbsp;i1</tt></td><td>&nbsp;</td><td>0.01110098</td><td>&nbsp;</td><td>197248</td><td>&nbsp;</td><td>0.20011495</td><td>&nbsp;</td><td>197248</td><td>&nbsp;</td><td align=right>18.03</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>i.~ i2</tt></td><td>&nbsp;</td><td>0.02010718</td><td>&nbsp;</td><td>393984</td><td>&nbsp;</td><td>1.76146159</td><td>&nbsp;</td><td>393984</td><td>&nbsp;</td><td align=right>87.60</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>~. &nbsp;i2</tt></td><td>&nbsp;</td><td>0.02360515</td><td>&nbsp;</td><td>393856</td><td>&nbsp;</td><td>1.76543031</td><td>&nbsp;</td><td>393856</td><td>&nbsp;</td><td align=right>74.79</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>i.~ c1</tt></td><td>&nbsp;</td><td>0.00831639</td><td>&nbsp;</td><td>197376</td><td>&nbsp;</td><td>0.01766063</td><td>&nbsp;</td><td>197376</td><td>&nbsp;</td><td align=right> 2.12</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>~. &nbsp;c1</tt></td><td>&nbsp;</td><td>0.01000640</td><td>&nbsp;</td><td>197248</td><td>&nbsp;</td><td>0.01936748</td><td>&nbsp;</td><td>197248</td><td>&nbsp;</td><td align=right> 1.94</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>i.~ c2</tt></td><td>&nbsp;</td><td>0.01687797</td><td>&nbsp;</td><td>393984</td><td>&nbsp;</td><td>0.03606743</td><td>&nbsp;</td><td>393984</td><td>&nbsp;</td><td align=right> 2.14</td><td>&nbsp;</td><td>1.00</td></tr>
<tr><td><tt>~. &nbsp;c2</tt></td><td>&nbsp;</td><td>0.02073817</td><td>&nbsp;</td><td>393856</td><td>&nbsp;</td><td>0.04019880</td><td>&nbsp;</td><td>393856</td><td>&nbsp;</td><td align=right> 1.94</td><td>&nbsp;</td><td>1.00</td></tr>
</table>


<br>
<!--bottom jump start--><hr><a href="binsearch.htm">&gt;&gt;</a>&nbsp;
<a href="fdot601.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<!--bottom jump end--></body>
</html>
