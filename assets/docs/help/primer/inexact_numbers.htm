<html>
<head><link rel=stylesheet href="../jdoc.css" type="text/css">
<title>Inexact numbers</title>

</head><body><!--top jump start--><a href="tolerance.htm">&gt;&gt;</a>&nbsp;
<a href="print_precision.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Primer<hr><!--top jump end--> 
<h1>Inexact numbers</h1>
The way numbers are stored in a computer limits the maximum number of digits in the number. This maximum depends on the hardware, but typically a <font face=courier size=-1>pps </font>argument of <font face=courier size=-1>20 </font>guarantees that all the digits available for a value will be displayed.<br>

<pre>   pps 6
   %3
0.333333
   pps 12
   %3
0.333333333333
   pps 20
   %3
0.33333333333333331</pre>
At <font face=courier size=-1>20</font> digits of precision the result of <font face=courier size=-1>%3</font> displays all the detail it has on the number in <font face=courier size=-1>17 </font>digits. The result of <font face=courier size=-1>%3</font> is not the exact mathematical result, but is the closest number to that exact result that can be stored in the computer. This difference between what you would expect from exact math and the limitations on how numbers are stored in computers can be confusing. <br>

<pre>   3 * % 3
1</pre>
The result of <font face=courier size=-1>%3</font> is not the exact value, but it is so close that when multiplied by <font face=courier size=-1>3</font> it gives the exact expected value of <font face=courier size=-1>1</font>.<br>

<pre>   3 * 10 * % 3
10</pre>
Multiplying the inexact result of <font face=courier size=-1>%3</font> by <font face=courier size=-1>10 </font>magnifies the error, but it is still close enough to the exact value that when multiplied by<font face=courier size=-1> 3</font> it gives the exact expected value of <font face=courier size=-1>10</font>.<br>

<pre>   3 * 100 * % 3
99.999999999999986</pre>
However, multiplying <font face=courier size=-1>%3</font> by <font face=courier size=-1>100 </font>magnifies the error enough so that when multiplied by <font face=courier size=-1>3</font> you do not get the exact expected answer of <font face=courier size=-1>100</font>, but instead get a number that is very close to <font face=courier size=-1>100</font>.<br>
<br>
Using lists you can combine the above examples.<br>

<pre>   3 * 1 10 100 * % 3
1 10 99.999999999999986</pre>
The fact the <font face=courier size=-1>%3</font> isn't stored exactly in the computer may not surprise you too much if you realize that an exact representation in decimal digits would take an infinite numbers of 3's.<br>
<br>
There is an additional source of confusion due to the fact that computers store numbers internally in a binary format where each digit is a 0 or 1, rather than the decimal format you are familiar with where the digits range in value from 0 to 9. A consequence of this is that even very simple decimal numbers, exactly expressed with a few digits, when converted to the computer's binary format, are stored as an inexact value.<br>

<pre>   pps 20
   0.5 0.25 0.1
0.5 0.25 0.10000000000000001</pre>
The <font face=courier size=-1>0.5</font> and <font face=courier size=-1>0.25</font> are stored exactly, but the <font face=courier size=-1>0.1</font> is stored inexactly, and when displayed with maximum precision shows as <font face=courier size=-1>0.10000000000000001</font> .<br>
<br>
These are facts of life with the way computers store floating point numbers and apply to all computer languages, not just J. Usually you can ignore these details, but they can sometimes cause problems or confusion if you don't have an idea about what is going on.<br>
<!--bottom jump start--><hr><a href="tolerance.htm">&gt;&gt;</a>&nbsp;
<a href="print_precision.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Primer<!--bottom jump end--></body>
</html>